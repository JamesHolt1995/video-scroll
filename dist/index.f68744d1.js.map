{"mappings":"AAAA,MAAM,OAAO,SAAS,eAAe;AACrC,MAAM,SAAS,SAAS,cAAc,CAAC;AACvC,MAAM,UAAU,OAAO,UAAU,CAAC;AAElC,MAAM,aAAa;AACnB,MAAM,eAAe,CAAA,QACjB,CAAC,yBAAyB,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,IAAI,CAAC;AAGvE,MAAM,gBAAgB,IAAM;IACxB,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,IAAK;QACjC,MAAM,MAAM,IAAI;QAChB,IAAI,GAAG,GAAG,aAAa;IAC3B;AACJ;AAEA,MAAM,MAAM,IAAI;AAChB,IAAI,GAAG,GAAG,aAAa;AACvB,OAAO,KAAK,GAAG;AACf,OAAO,MAAM,GAAG;AAChB,IAAI,MAAM,GAAG,WAAY;IACrB,QAAQ,SAAS,CAAC,KAAK,GAAG;AAC9B;AAEA,MAAM,cAAc,CAAA,QAAS;IACzB,IAAI,GAAG,GAAG,aAAa;IACvB,QAAQ,SAAS,CAAC,KAAK,GAAG;AAC9B;AAEA,OAAO,gBAAgB,CAAC,UAAU,IAAM;IACpC,MAAM,YAAY,KAAK,SAAS;IAChC,MAAM,eAAe,KAAK,YAAY,GAAG,OAAO,WAAW;IAC3D,MAAM,iBAAiB,YAAY;IACnC,MAAM,aAAa,KAAK,GAAG,CACvB,aAAa,GACb,KAAK,IAAI,CAAC,iBAAiB;IAG/B,sBAAsB,IAAM,YAAY,aAAa;AACzD;AAEA","sources":["src/scripts.js"],"sourcesContent":["const html = document.documentElement;\nconst canvas = document.getElementById(\"hero-lightpass\");\nconst context = canvas.getContext(\"2d\");\n\nconst frameCount = 60;\nconst currentFrame = index => (\n    `/img/WB_WebsiteScrollTest${index.toString().padStart(4, '0')}.jpg`\n)\n\nconst preloadImages = () => {\n    for (let i = 1; i < frameCount; i++) {\n        const img = new Image();\n        img.src = currentFrame(i);\n    }\n};\n\nconst img = new Image()\nimg.src = currentFrame(1);\ncanvas.width = 1920;\ncanvas.height = 1920;\nimg.onload = function () {\n    context.drawImage(img, 0, 0);\n}\n\nconst updateImage = index => {\n    img.src = currentFrame(index);\n    context.drawImage(img, 0, 0);\n}\n\nwindow.addEventListener('scroll', () => {\n    const scrollTop = html.scrollTop;\n    const maxScrollTop = html.scrollHeight - window.innerHeight;\n    const scrollFraction = scrollTop / maxScrollTop;\n    const frameIndex = Math.min(\n        frameCount - 1,\n        Math.ceil(scrollFraction * frameCount)\n    );\n\n    requestAnimationFrame(() => updateImage(frameIndex + 1))\n});\n\npreloadImages()"],"names":[],"version":3,"file":"index.f68744d1.js.map","sourceRoot":"/__parcel_source_root/"}